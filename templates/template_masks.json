{
  "templates": [
    {
      "name": "masks",
      "data": "{\"nodes\":[{\"type\":\"MaskToImage\",\"pos\":[-4850,-1650],\"size\":{\"0\":210,\"1\":26},\"flags\":{},\"order\":107,\"mode\":4,\"inputs\":[{\"name\":\"mask\",\"type\":\"MASK\",\"link\":null}],\"outputs\":[{\"name\":\"IMAGE\",\"type\":\"IMAGE\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"properties\":{\"Node name for S&R\":\"MaskToImage\"}},{\"type\":\"Note\",\"pos\":[-5330,-1560],\"size\":{\"0\":403.6025695800781,\"1\":275.2950134277344},\"flags\":{},\"order\":7,\"mode\":4,\"properties\":{\"text\":\"\"},\"widgets_values\":[\"In the text box input the objects you want to be masked\\nAdjust confidence_threshold for desired results\\n\\n**Confidence Threshold**\\nThe confidence threshold for the YOLO-World model. Lower the threshold to reduce false negatives, enhancing the model's sensitivity to detect sought-after objects. Conversely, increase the threshold to minimize false positives, preventing the model from identifying objects it shouldn't.\\n\\n**IoU Threshold**\\nThe Intersection over Union (IoU) threshold for non-maximum suppression. Decrease the value to lessen the occurrence of overlapping bounding boxes, making the detection process stricter. On the other hand, increase the value to allow more overlapping bounding boxes, accommodating a broader range of detections\\n\\nUse Class-Agnostic NMS - Suppress overlapping bounding boxes across all classes.\\n\"],\"color\":\"#222\",\"bgcolor\":\"#000\"},{\"type\":\"PreviewImage\",\"pos\":[-5320,-2310],\"size\":{\"0\":210,\"1\":246},\"flags\":{},\"order\":106,\"mode\":4,\"inputs\":[{\"name\":\"images\",\"type\":\"IMAGE\",\"link\":null}],\"properties\":{\"Node name for S&R\":\"PreviewImage\"}},{\"type\":\"Yoloworld_ModelLoader_Zho\",\"pos\":[-5570,-2150],\"size\":{\"0\":210,\"1\":58},\"flags\":{},\"order\":8,\"mode\":4,\"outputs\":[{\"name\":\"yolo_world_model\",\"type\":\"YOLOWORLDMODEL\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"properties\":{\"Node name for S&R\":\"Yoloworld_ModelLoader_Zho\"},\"widgets_values\":[\"yolo_world/l\"],\"color\":\"#322\",\"bgcolor\":\"#533\"},{\"type\":\"Yoloworld_ESAM_Zho\",\"pos\":[-5320,-2000],\"size\":{\"0\":400,\"1\":380.0000305175781},\"flags\":{},\"order\":76,\"mode\":4,\"inputs\":[{\"name\":\"yolo_world_model\",\"type\":\"YOLOWORLDMODEL\",\"link\":null},{\"name\":\"esam_model\",\"type\":\"ESAMMODEL\",\"link\":null,\"slot_index\":1},{\"name\":\"image\",\"type\":\"IMAGE\",\"link\":null},{\"name\":\"categories\",\"type\":\"STRING\",\"link\":null,\"widget\":{\"name\":\"categories\"}}],\"outputs\":[{\"name\":\"IMAGE\",\"type\":\"IMAGE\",\"links\":[],\"shape\":3,\"slot_index\":0},{\"name\":\"MASK\",\"type\":\"MASK\",\"links\":[],\"shape\":3,\"slot_index\":1}],\"properties\":{\"Node name for S&R\":\"Yoloworld_ESAM_Zho\"},\"widgets_values\":[\"hands\",0.02,0.03,1,1,1,true,false,true,true,true,0]},{\"type\":\"ESAM_ModelLoader_Zho\",\"pos\":[-5570,-2040],\"size\":{\"0\":210,\"1\":58},\"flags\":{},\"order\":10,\"mode\":4,\"outputs\":[{\"name\":\"esam_model\",\"type\":\"ESAMMODEL\",\"links\":[],\"shape\":3}],\"properties\":{\"Node name for S&R\":\"ESAM_ModelLoader_Zho\"},\"widgets_values\":[\"CUDA\"],\"color\":\"#322\",\"bgcolor\":\"#533\"},{\"type\":\"JoinStringMulti\",\"pos\":[-4850,-2100],\"size\":{\"0\":210,\"1\":218},\"flags\":{},\"order\":127,\"mode\":4,\"inputs\":[{\"name\":\"string_1\",\"type\":\"STRING\",\"link\":null},{\"name\":\"string_2\",\"type\":\"STRING\",\"link\":null},{\"name\":\"string_3\",\"type\":\"STRING\",\"link\":null}],\"outputs\":[{\"name\":\"string\",\"type\":\"STRING\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"properties\":{\"Node name for S&R\":\"JoinStringMulti\"},\"widgets_values\":[3,\"\",\"masks\",\"/\",false,null]},{\"type\":\"easy string\",\"pos\":[-5560,-2480],\"size\":{\"0\":210,\"1\":58},\"flags\":{},\"order\":34,\"mode\":0,\"outputs\":[{\"name\":\"string\",\"type\":\"STRING\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"title\":\"Object to detect\",\"properties\":{\"Node name for S&R\":\"Object to detect\"},\"widgets_values\":[\"cube\"],\"color\":\"#232\",\"bgcolor\":\"#353\"},{\"type\":\"Reroute\",\"pos\":[-4850,-2290],\"size\":[75,26],\"flags\":{},\"order\":109,\"mode\":4,\"inputs\":[{\"name\":\"\",\"type\":\"*\",\"link\":null}],\"outputs\":[{\"name\":\"\",\"type\":\"*\",\"links\":null}],\"properties\":{\"showOutputText\":false,\"horizontal\":false}},{\"type\":\"MaskPreview+\",\"pos\":[-5090,-2310],\"size\":{\"0\":210,\"1\":246},\"flags\":{},\"order\":108,\"mode\":4,\"inputs\":[{\"name\":\"mask\",\"type\":\"MASK\",\"link\":null}],\"properties\":{\"Node name for S&R\":\"MaskPreview+\"}},{\"type\":\"GetNode\",\"pos\":[-4850,-2220],\"size\":{\"0\":210,\"1\":58},\"flags\":{\"collapsed\":false},\"order\":19,\"mode\":4,\"outputs\":[{\"name\":\"STRING\",\"type\":\"STRING\",\"links\":[],\"slot_index\":0}],\"title\":\"Get_PROJ_DIR\",\"properties\":{},\"widgets_values\":[\"PROJ_DIR\"]},{\"type\":\"GetNode\",\"pos\":[-5570,-1930],\"size\":{\"0\":210,\"1\":58},\"flags\":{},\"order\":13,\"mode\":4,\"outputs\":[{\"name\":\"IMAGE\",\"type\":\"IMAGE\",\"links\":[],\"slot_index\":0}],\"title\":\"Get_IMG\",\"properties\":{},\"widgets_values\":[\"IMG\"]},{\"type\":\"VHS_LoadImagesPath\",\"pos\":[-3680,-1630],\"size\":{\"0\":250,\"1\":140},\"flags\":{},\"order\":154,\"mode\":0,\"inputs\":[{\"name\":\"meta_batch\",\"type\":\"VHS_BatchManager\",\"link\":null},{\"name\":\"directory\",\"type\":\"STRING\",\"link\":null,\"widget\":{\"name\":\"directory\"}},{\"name\":\"image_load_cap\",\"type\":\"INT\",\"link\":null,\"widget\":{\"name\":\"image_load_cap\"},\"slot_index\":2},{\"name\":\"skip_first_images\",\"type\":\"INT\",\"link\":null,\"widget\":{\"name\":\"skip_first_images\"}},{\"name\":\"select_every_nth\",\"type\":\"INT\",\"link\":null,\"widget\":{\"name\":\"select_every_nth\"}}],\"outputs\":[{\"name\":\"IMAGE\",\"type\":\"IMAGE\",\"links\":[],\"shape\":3,\"slot_index\":0},{\"name\":\"MASK\",\"type\":\"MASK\",\"links\":null,\"shape\":3},{\"name\":\"frame_count\",\"type\":\"INT\",\"links\":null,\"shape\":3}],\"properties\":{\"Node name for S&R\":\"VHS_LoadImagesPath\"},\"widgets_values\":{\"directory\":\"X://path/to/images\",\"image_load_cap\":0,\"skip_first_images\":0,\"select_every_nth\":1,\"choose folder to upload\":\"image\",\"videopreview\":{\"hidden\":false,\"paused\":false,\"params\":{\"frame_load_cap\":0,\"skip_first_images\":0,\"filename\":\"X://path/to/images\",\"type\":\"path\",\"format\":\"folder\",\"select_every_nth\":1}}}},{\"type\":\"JoinStringMulti\",\"pos\":[-4130,-1530],\"size\":{\"0\":210,\"1\":218},\"flags\":{},\"order\":128,\"mode\":0,\"inputs\":[{\"name\":\"string_1\",\"type\":\"STRING\",\"link\":null},{\"name\":\"string_2\",\"type\":\"STRING\",\"link\":null},{\"name\":\"string_3\",\"type\":\"STRING\",\"link\":null}],\"outputs\":[{\"name\":\"string\",\"type\":\"STRING\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"properties\":{\"Node name for S&R\":\"JoinStringMulti\"},\"widgets_values\":[3,\"\",\"masks\",\"/\",false,null]},{\"type\":\"GetNode\",\"pos\":[-4130,-1640],\"size\":{\"0\":210,\"1\":58},\"flags\":{\"collapsed\":false},\"order\":24,\"mode\":0,\"outputs\":[{\"name\":\"STRING\",\"type\":\"STRING\",\"links\":[],\"slot_index\":0}],\"title\":\"Get_PROJ_DIR\",\"properties\":{},\"widgets_values\":[\"PROJ_DIR\"]},{\"type\":\"GetNode\",\"pos\":[-3890,-1570],\"size\":{\"0\":210,\"1\":58},\"flags\":{\"collapsed\":true},\"order\":21,\"mode\":0,\"outputs\":[{\"name\":\"INT\",\"type\":\"INT\",\"links\":[],\"slot_index\":0}],\"title\":\"Get_frame_load_cap\",\"properties\":{},\"widgets_values\":[\"frame_load_cap\"]},{\"type\":\"GetNode\",\"pos\":[-3890,-1530],\"size\":{\"0\":210,\"1\":58},\"flags\":{\"collapsed\":true},\"order\":22,\"mode\":0,\"outputs\":[{\"name\":\"INT\",\"type\":\"INT\",\"links\":[],\"slot_index\":0}],\"title\":\"Get_skip_frames\",\"properties\":{},\"widgets_values\":[\"skip_frames\"]},{\"type\":\"GetNode\",\"pos\":[-3890,-1490],\"size\":{\"0\":210,\"1\":58},\"flags\":{\"collapsed\":true},\"order\":23,\"mode\":0,\"outputs\":[{\"name\":\"INT\",\"type\":\"INT\",\"links\":[],\"slot_index\":0}],\"title\":\"Get_select_Nth_frames\",\"properties\":{},\"widgets_values\":[\"select_Nth_frames\"]},{\"type\":\"MaskPreview+\",\"pos\":[-3050,-1530],\"size\":{\"0\":210,\"1\":246},\"flags\":{},\"order\":175,\"mode\":0,\"inputs\":[{\"name\":\"mask\",\"type\":\"MASK\",\"link\":null}],\"properties\":{\"Node name for S&R\":\"MaskPreview+\"}},{\"type\":\"SetNode\",\"pos\":[-3050,-1760],\"size\":{\"0\":210,\"1\":58},\"flags\":{\"collapsed\":false},\"order\":167,\"mode\":0,\"inputs\":[{\"name\":\"*\",\"type\":\"*\",\"link\":null}],\"outputs\":[{\"name\":\"*\",\"type\":\"*\",\"links\":null,\"slot_index\":0}],\"title\":\"Set_MASK_01_IMG\",\"properties\":{\"previousName\":\"\"},\"widgets_values\":[\"MASK_01_IMG\"]},{\"type\":\"SetNode\",\"pos\":[-3050,-1650],\"size\":{\"0\":210,\"1\":58},\"flags\":{\"collapsed\":false},\"order\":174,\"mode\":0,\"inputs\":[{\"name\":\"*\",\"type\":\"*\",\"link\":null}],\"outputs\":[{\"name\":\"*\",\"type\":\"*\",\"links\":null}],\"title\":\"Set_MASK_01\",\"properties\":{\"previousName\":\"\"},\"widgets_values\":[\"MASK_01\"]},{\"type\":\"ImageScaleBy\",\"pos\":[-4880,-1560],\"size\":{\"0\":250,\"1\":80},\"flags\":{},\"order\":126,\"mode\":4,\"inputs\":[{\"name\":\"image\",\"type\":\"IMAGE\",\"link\":null},{\"name\":\"scale_by\",\"type\":\"FLOAT\",\"link\":null,\"widget\":{\"name\":\"scale_by\"}}],\"outputs\":[{\"name\":\"IMAGE\",\"type\":\"IMAGE\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"properties\":{\"Node name for S&R\":\"ImageScaleBy\"},\"widgets_values\":[\"nearest-exact\",1],\"color\":\"#322\",\"bgcolor\":\"#533\"},{\"type\":\"GetNode\",\"pos\":[-4850,-1760],\"size\":{\"0\":210,\"1\":58},\"flags\":{},\"order\":12,\"mode\":4,\"outputs\":[{\"name\":\"FLOAT\",\"type\":\"FLOAT\",\"links\":[],\"slot_index\":0}],\"title\":\"Get_scale_by_IMG\",\"properties\":{},\"widgets_values\":[\"scale_by_IMG\"]},{\"type\":\"String\",\"pos\":[-4140,-1770],\"size\":{\"0\":308.3890075683594,\"1\":76.00000762939453},\"flags\":{},\"order\":37,\"mode\":0,\"outputs\":[{\"name\":\"STRING\",\"type\":\"STRING\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"title\":\"Output dir path\",\"properties\":{\"Node name for S&R\":\"String\"},\"widgets_values\":[\"/workspace/ComfyUI/output\"],\"color\":\"#232\",\"bgcolor\":\"#353\"},{\"type\":\"JoinStrings\",\"pos\":[-3670,-1760],\"size\":[210,80],\"flags\":{},\"order\":143,\"mode\":0,\"inputs\":[{\"name\":\"string1\",\"type\":\"STRING\",\"link\":null,\"widget\":{\"name\":\"string1\"}},{\"name\":\"string2\",\"type\":\"STRING\",\"link\":null,\"widget\":{\"name\":\"string2\"}}],\"outputs\":[{\"name\":\"STRING\",\"type\":\"STRING\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"properties\":{\"Node name for S&R\":\"JoinStrings\"},\"widgets_values\":[\"\",\"\",\"/\"]},{\"type\":\"LogicUtil_SaveImageCustomNode\",\"pos\":[-4520,-1950],\"size\":{\"0\":320,\"1\":290},\"flags\":{},\"order\":142,\"mode\":4,\"inputs\":[{\"name\":\"images\",\"type\":\"IMAGE\",\"link\":null},{\"name\":\"subfolder_dir\",\"type\":\"STRING\",\"link\":null,\"widget\":{\"name\":\"subfolder_dir\"}}],\"outputs\":[{\"name\":\"STRING\",\"type\":\"STRING\",\"links\":null,\"shape\":3}],\"properties\":{\"Node name for S&R\":\"LogicUtil_SaveImageCustomNode\"},\"widgets_values\":[\"mask\",\"\"]},{\"type\":\"ImageScaleBy\",\"pos\":[-3350,-1670],\"size\":{\"0\":210,\"1\":80},\"flags\":{},\"order\":162,\"mode\":0,\"inputs\":[{\"name\":\"image\",\"type\":\"IMAGE\",\"link\":null},{\"name\":\"scale_by\",\"type\":\"FLOAT\",\"link\":null,\"widget\":{\"name\":\"scale_by\"},\"slot_index\":1}],\"outputs\":[{\"name\":\"IMAGE\",\"type\":\"IMAGE\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"properties\":{\"Node name for S&R\":\"ImageScaleBy\"},\"widgets_values\":[\"nearest-exact\",1],\"color\":\"#322\",\"bgcolor\":\"#533\"},{\"type\":\"GetNode\",\"pos\":[-3350,-1780],\"size\":{\"0\":210,\"1\":58},\"flags\":{},\"order\":33,\"mode\":0,\"outputs\":[{\"name\":\"FLOAT\",\"type\":\"FLOAT\",\"links\":[],\"slot_index\":0}],\"title\":\"Get_scale_by_IMG\",\"properties\":{},\"widgets_values\":[\"scale_by_IMG\"]},{\"type\":\"Note\",\"pos\":[-4990,-2630],\"size\":{\"0\":750,\"1\":230},\"flags\":{},\"order\":32,\"mode\":0,\"properties\":{\"text\":\"\"},\"widgets_values\":[\"**Mask Generation**\\n\\nEnable this section once to generate masks. Use the \\\"Load Masks\\\" section for subsequent workflow operations.\\nInput a text description of the object(s) you want to generate masks for.\\n\\n- For a combined mask, use only the first generator with comma-separated input, e.g., <cube, hands>\\n- For separate masks for each object, use multiple \\\"Mask Generate\\\" sections\\n\\nIt's best to use full resolution for mask generation\\n\\n\\n**Load Masks**\\n\\nAfter successful generation, disable the generation sections and enable the \\\"Load Masks\\\" section for each object you generated masks for.\\n\\nEnsure that the \\\"Output directory path\\\" is correct for your system.\\n\"],\"color\":\"#232\",\"bgcolor\":\"#353\"},{\"type\":\"DF_String_Replace\",\"pos\":[-5290,-2450],\"size\":{\"0\":210,\"1\":110},\"flags\":{\"collapsed\":true},\"order\":77,\"mode\":0,\"inputs\":[{\"name\":\"Text\",\"type\":\"STRING\",\"link\":null,\"widget\":{\"name\":\"Text\"}}],\"outputs\":[{\"name\":\"TEXT\",\"type\":\"STRING\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"properties\":{\"Node name for S&R\":\"DF_String_Replace\"},\"widgets_values\":[\"\",\"[, ]+\",\"_\",\"RegEx\"]},{\"type\":\"MaskFromColor+\",\"pos\":[-3350,-1460],\"size\":{\"0\":210,\"1\":130},\"flags\":{},\"order\":168,\"mode\":0,\"inputs\":[{\"name\":\"image\",\"type\":\"IMAGE\",\"link\":null}],\"outputs\":[{\"name\":\"MASK\",\"type\":\"MASK\",\"links\":[],\"shape\":3,\"slot_index\":0}],\"properties\":{\"Node name for S&R\":\"MaskFromColor+\"},\"widgets_values\":[255,255,255,0]}],\"links\":[[4,1,0,0,617],[4,0,2,0,617],[3,0,4,0,616],[5,0,4,1,618],[11,0,4,2,669],[7,0,4,3,636],[10,0,6,0,647],[8,0,6,2,639],[29,0,8,0,827],[4,1,9,0,617],[24,0,12,1,813],[15,0,12,2,714],[16,0,12,3,715],[17,0,12,4,716],[14,0,13,0,713],[8,0,13,2,639],[30,0,18,0,1132],[26,0,19,0,823],[30,0,20,0,1132],[0,0,21,0,330],[22,0,21,1,784],[23,0,24,0,788],[13,0,24,1,712],[21,0,25,0,782],[6,0,25,1,628],[12,0,26,0,709],[27,0,26,1,825],[7,0,29,0,636],[26,0,30,0,823]]}"
    }
  ]
}